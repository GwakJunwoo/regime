# 검증 프레임워크 결과 해석 보고서

## 종합 점수: **3/5 통과** ⚠️

---

## 1️⃣ 시간적 선행성 검증 - ⚠️ **애매**

### 결과
- Vol 증가율: 대부분 **48-52%** (기준: >50%)
- 평균 분산비: **이상하게 큼** (73만, 150만 등)

### 해석
**🔴 문제점:**
- Vol 증가율이 거의 50% 근처 → **동전 던지기 수준**
- Source가 Target 변동성을 선행한다는 증거 부족
- 분산비 계산에 **심각한 오류 의심** (정상값은 0.8~1.5 범위)

**💡 원인 추정:**
```python
# 코드 문제 가능성
variance_ratio = future_vol / (past_vol + 1e-8)  
# past_vol이 거의 0에 가까워서 분산비가 폭발한 듯
```

**✅ 개선 방향:**
1. 분산비 계산 시 outlier 제거 필요
2. Median 사용 (평균 대신)
3. 임계값 설정 (0.1 ~ 10.0 범위만 유효)

---

## 2️⃣ 구조 안정성 테스트 - ⚠️ **판단 불가**

### 결과
- 5개 클러스터로 분류됨
- 각 클러스터 크기: 108~243개 시점
- **위기 구간 겹침 정보 없음**

### 해석
**🟡 중립:**
- 클러스터링은 작동하지만 **의미 있는 패턴 불명확**
- 2020 COVID, 2022 긴축 같은 알려진 위기가 같은 클러스터에 있는지 확인 필요

**✅ 개선 방향:**
1. 클러스터 프로파일링 추가 (각 클러스터의 특징)
2. 위기 구간 라벨링 확인
3. Silhouette score 계산

---

## 3️⃣ 경제적 논리 검증 - ✅ **통과**

### 결과
- 총 엣지: 17,856개
- 논리 위배: 564개
- **위배율: 3.16%** (기준: <10%)

### 해석
**🟢 합격!**
- 96.84%가 경제적으로 타당한 방향
- 주요 위배는 **코스피200 → 2년물 (Risk → Rates)**

**📌 특이사항:**
- 위배 사례가 **2024년 10-11월에 집중**
- 이 시기 특정 이벤트 가능성 (미 대선? 연준 정책?)
- 일시적 현상일 수 있음

**💡 실무 관점:**
- Risk → Rates는 드물지만 **완전히 불가능하진 않음**
- Risk-off 시 주식 급락 → 국채 매수 → 금리 하락 가능
- 3% 정도는 허용 범위

---

## 4️⃣ 반사실 테스트 - ❌ **실패**

### 결과
- 코스피200 제거 시:
  - Out-degree: 8.21 → 0.00 ✅ (-100%)
  - 전체 엣지: 14 → 90 ❌ (+542.9%)

### 해석
**🔴 심각한 문제:**
- 코스피200의 영향력은 사라졌지만 ✅
- **전체 네트워크가 폭발함** ❌❌❌
- 기준: ±20% 이내 → 실제: +542.9%

**💡 원인:**
```
코스피200을 0으로 만들면
→ 다른 자산들 간 상대적 correlation이 증폭됨
→ 네트워크가 오히려 dense해짐
```

**✅ 개선 방향:**
1. Perturbation 방식 재검토
2. Return을 0으로 만드는 대신 **노이즈 추가** 방식 사용
3. 또는 해당 자산을 **완전 제거**하고 재학습

---

## 5️⃣ 간이 예측 검증 - ❌ **실패**

### 결과
- High connectivity (상위 30%): 0.7362
- Low connectivity (하위 30%): 0.7375
- **비율: 1.00x** (기준: >1.2)

### 해석
**🔴 실패:**
- 네트워크 밀도와 이후 변동성이 **무관계**
- 심지어 Low가 오히려 약간 높음 (역전)

**💡 의미:**
- 현재 네트워크는 **단기 변동성 예측에 무용**
- 구조 변화가 시장 불안정을 선행하지 않음

**🤔 왜 실패했나?**
1. **변동성 자체를 input으로 썼기 때문**
   - Normalized return = return / volatility
   - 이미 변동성이 제거된 상태
   - 네트워크가 방향성은 잡지만 변동성은 못 잡음

2. **Forward window가 짧음 (5일)**
   - 구조 변화 → 변동성 증가는 시차가 더 길 수 있음
   - 20일 정도로 늘려봐야 할 듯

**✅ 개선 방향:**
1. Raw return으로 네트워크 구성 (volatility normalization 제거)
2. Forward window 20일로 확대
3. 또는 이 테스트 자체를 폐기 (보너스였으니)

---

## 📊 종합 평가

| 검증 항목 | 결과 | 핵심 이슈 |
|---------|------|----------|
| 1️⃣ 시간적 선행성 | ⚠️ | 분산비 계산 오류, Vol 증가율 50% 근처 |
| 2️⃣ 구조 안정성 | ⚠️ | 위기 클러스터링 미확인 |
| 3️⃣ 경제적 논리 | ✅ | 3.16% 위배율 - 통과 |
| 4️⃣ 반사실 | ❌ | 네트워크 구조 폭발 (+542%) |
| 5️⃣ 간이 예측 | ❌ | 밀도-변동성 무관계 |

### 🎯 최종 판정

**현재 시스템은 "경제적 논리"는 통과했지만,**
**시간적 선행성과 예측력에서 심각한 문제 발견**

---

## 🔧 즉시 개선 필요 사항

### Priority 1 (긴급)
1. **시간적 선행성 계산 수정**
   - 분산비 outlier 처리
   - Median 사용
   - 임계값 clipping (0.1~10.0)

2. **반사실 테스트 재설계**
   - Perturbation 방식 변경
   - 자산 완전 제거 후 재학습 방식

### Priority 2 (중요)
3. **간이 예측 재검토**
   - Forward window 확대 (5일 → 20일)
   - 또는 이 테스트 폐기 고려

4. **구조 안정성 강화**
   - 위기 구간 라벨링 추가
   - 클러스터 프로파일링

---

## 💡 실무 관점에서

### 딜러가 볼 때
- ✅ 경제적 논리는 OK (3% 위배는 허용)
- ❌ "이 네트워크로 뭘 하라는 거지?" - 예측력 없음

### 리서치가 볼 때
- ✅ Rates → Risk 방향은 맞음
- ⚠️ 시간적 선행성 증거 부족
- ❌ Forward-looking 인사이트 없음

### 리스크가 볼 때
- ✅ 구조는 안정적 (논리 위배 적음)
- ❌ 변동성 예측 실패 → **리스크 관리에 무용**
- 🔴 반사실 테스트 실패 → **스트레스 테스트 불가**

---

## 📝 결론

**이 시스템은 현재 "네트워크는 만들어지지만, 실용성 검증 실패" 상태**

### 사용 가능 여부
- ❌ **트레이딩 시그널**: 예측력 없음
- ⚠️ **리서치 참고**: 방향성만 (시점 예측 불가)
- ❌ **리스크 관리**: 변동성 예측 실패

### 다음 단계
1. 시간적 선행성 코드 수정 (긴급)
2. 수정 후 재검증
3. 통과하면 → Regime 분류, 조건부 전이 활용 가능
4. 실패하면 → **VAR 대신 다른 방법론 검토** (DCC-GARCH, Network VAR 등)
